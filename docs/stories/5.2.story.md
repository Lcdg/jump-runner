# Story 5.2: Autres Obstacles Aériens

## Status

Done

## Story

**As a** player,
**I want** variety in aerial obstacles,
**so that** the game stays interesting.

## Acceptance Criteria

1. **Panneau de signalisation** : rectangle vert/bleu avec poteau, hitbox sur le panneau
2. **Enseigne de magasin** : rectangle lumineux suspendu avec support
3. Chaque obstacle a une hitbox appropriée à sa forme
4. Couleurs/formes distinctes des obstacles au sol
5. Spawn aléatoire parmi les types disponibles
6. Tests pour chaque type d'obstacle aérien
7. `npm run lint` passe
8. `npm run test:run` passe
9. `npm run build` passe

## Tasks / Subtasks

- [x] **Task 1: Ajouter types sign et shopSign** (AC: 1, 2)
  - [x] ObstacleType 'sign' et 'shopSign' dans types.ts
  - [x] Dimensions et couleurs dans constants.ts
  - [x] Category 'aerial' pour les deux

- [x] **Task 2: Implémenter rendu** (AC: 1, 2, 4)
  - [x] renderSign() - panneau bleu + poteau + bordure blanche
  - [x] renderShopSign() - enseigne rouge lumineuse + support

- [x] **Task 3: Ajuster spawn weights** (AC: 5)
  - [x] Répartition : 70% ground, 30% aerial
  - [x] Aerial : streetlight 10%, sign 10%, shopSign 10%

- [x] **Task 4: Tests et Validation** (AC: 6, 7, 8, 9)
  - [x] Tests unitaires nouveaux types (6 tests)
  - [x] `npm run lint` passe
  - [x] `npm run test:run` passe (233 tests)
  - [x] `npm run build` passe

## Dev Notes

### New Obstacle Types

```typescript
sign: {
  width: 10,        // Pole width
  height: 100,      // Total height
  hitboxHeight: 35, // Sign part
  hitboxWidth: 50,  // Sign width
  category: 'aerial',
  weight: 0.1,
}

shopSign: {
  width: 8,         // Support width
  height: 90,       // Total height
  hitboxHeight: 30, // Sign part
  hitboxWidth: 60,  // Sign width
  category: 'aerial',
  weight: 0.1,
}
```

### Colors

- Sign: `#2D6A4F` (vert foncé) ou `#1D3557` (bleu foncé)
- ShopSign: `#E63946` (rouge) avec bord lumineux `#FFD60A`

## Testing

| Type | Framework | Location |
|------|-----------|----------|
| Unit | Vitest | tests/unit/entities/Obstacle.test.ts |

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-19 | 1.0 | Story créée | Dev Agent |
